# âœ… íŒŒì¼ ì„¤ì • ê²€ì¦ ê²°ê³¼

## ğŸ“‹ í™•ì¸ëœ íŒŒì¼ ì„¤ì •ë“¤

### âœ… 1. vite.config.ts

**ìœ„ì¹˜**: `vite.config.ts`

**í˜„ì¬ ì„¤ì •**:
```typescript
/// <reference types="vitest/config" />
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react-swc";
import path from "path";

const dirname =
  typeof __dirname !== "undefined"
    ? __dirname
    : path.dirname(new URL(import.meta.url).pathname);

// GitHub Pages ë°°í¬ë¥¼ ìœ„í•œ base ê²½ë¡œ ì„¤ì •
const base: string =
  process.env.NODE_ENV === "production" ? "/front_7th_chapter3-2/" : "";

export default defineConfig(({ command }) => {
  const isBuild = command === "build";

  return {
    base, // GitHub Pages ë°°í¬ ê²½ë¡œ ì„¤ì •
    plugins: [react()],
    resolve: {
      alias: {
        "@": path.resolve(dirname, "./src"),
      },
    },
    // test ì„¤ì •ì€ ê°œë°œ/í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©
    ...(isBuild
      ? {}
      : {
          test: {
            globals: true,
            environment: "jsdom",
            setupFiles: "./src/setupTests.ts",
          },
        }),
  };
});
```

**ê²€ì¦ ê²°ê³¼**:
- âœ… base pathê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë¨: `/front_7th_chapter3-2/`
- âœ… front_7th_chapter3-1ê³¼ ë™ì¼í•œ íŒ¨í„´ ì‚¬ìš©
- âœ… ë¹Œë“œ ëª¨ë“œì—ì„œ test ì„¤ì • ì œì™¸ ì²˜ë¦¬

---

### âœ… 2. index.html

**ìœ„ì¹˜**: `index.html` (ë£¨íŠ¸ ë””ë ‰í† ë¦¬)

**í˜„ì¬ ì„¤ì •**:
```html
<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ì¥ë°”êµ¬ë‹ˆë¡œ í•™ìŠµí•˜ëŠ” ë””ìì¸íŒ¨í„´</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
<div id="root"></div>
<script type="module" src="/src/advanced/main.tsx"></script>
</body>
</html>
```

**ê²€ì¦ ê²°ê³¼**:
- âœ… `src/advanced/main.tsx`ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë¨
- âœ… GitHub Pages ë°°í¬ìš© ê¸°ë³¸ HTML íŒŒì¼ë¡œ ì‚¬ìš©ë¨

---

### âœ… 3. package.json

**ìœ„ì¹˜**: `package.json`

**ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸**:
```json
{
  "scripts": {
    "build:advanced": "tsc -b && vite build --config vite.config.ts"
  }
}
```

**ê²€ì¦ ê²°ê³¼**:
- âœ… `build:advanced` ìŠ¤í¬ë¦½íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë¨
- âœ… TypeScript ì»´íŒŒì¼ í›„ Vite ë¹Œë“œ ì‹¤í–‰

---

### âœ… 4. .github/workflows/deploy.yml

**ìœ„ì¹˜**: `.github/workflows/deploy.yml`

**í˜„ì¬ ì„¤ì •**:
```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pages: write
      id-token: write
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Setup pnpm
        uses: pnpm/action-setup@v4
        with:
          version: 10

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 22
          cache: "pnpm"

      - name: Install dependencies
        run: pnpm install

      - name: Build advanced package
        run: pnpm build:advanced
        env:
          NODE_ENV: production

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./dist
```

**ê²€ì¦ ê²°ê³¼**:
- âœ… front_7th_chapter3-1ê³¼ ë™ì¼í•œ êµ¬ì¡°
- âœ… `publish_dir: ./dist` ì„¤ì • ì˜¬ë°”ë¦„
- âœ… `build:advanced` ëª…ë ¹ì–´ ì‚¬ìš©
- âœ… `NODE_ENV: production` ì„¤ì •ìœ¼ë¡œ base path ì ìš©

---

### âœ… 5. ë¹Œë“œ ê²°ê³¼ë¬¼ ê²€ì¦

**ë¹Œë“œ í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
```bash
âœ“ 86 modules transformed.
dist/index.html                  0.44 kB â”‚ gzip:  0.35 kB
dist/assets/index-BVSKioPT.js  225.60 kB â”‚ gzip: 69.52 kB
âœ“ built in 1.11s
```

**ìƒì„±ëœ íŒŒì¼ êµ¬ì¡°**:
```
dist/
â”œâ”€â”€ index.html                    âœ…
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ index-BVSKioPT.js        âœ…
â””â”€â”€ vite.svg
```

**dist/index.html ë‚´ìš©**:
```html
<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ì¥ë°”êµ¬ë‹ˆë¡œ í•™ìŠµí•˜ëŠ” ë””ìì¸íŒ¨í„´</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="module" crossorigin src="/front_7th_chapter3-2/assets/index-BVSKioPT.js"></script>
</head>
<body class="bg-gray-100">
<div id="root"></div>
</body>
</html>
```

**ê²€ì¦ ê²°ê³¼**:
- âœ… `index.html` íŒŒì¼ì´ ì˜¬ë°”ë¥´ê²Œ ìƒì„±ë¨
- âœ… base path (`/front_7th_chapter3-2/`)ê°€ JavaScript íŒŒì¼ ê²½ë¡œì— ì ìš©ë¨
- âœ… ëª¨ë“  í•„ìˆ˜ íŒŒì¼ì´ ìƒì„±ë¨

---

## ğŸ“Š front_7th_chapter3-1ê³¼ ë¹„êµ

### ë™ì¼í•œ ì  âœ…
1. vite.config.ts êµ¬ì¡°ê°€ ë™ì¼í•¨
2. GitHub Actions ì›Œí¬í”Œë¡œìš° êµ¬ì¡°ê°€ ë™ì¼í•¨
3. ë¹Œë“œ í›„ dist í´ë” êµ¬ì¡°ê°€ ë™ì¼í•¨

### ì°¨ì´ì  (ì˜ë„ëœ ì°¨ì´) âœ…
1. base path: `/front_7th_chapter3-1/` vs `/front_7th_chapter3-2/`
2. ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸: `build:after` vs `build:advanced`
3. publish_dir: `./packages/after/dist` vs `./dist`
   - (monorepo vs ë‹¨ì¼ í”„ë¡œì íŠ¸ êµ¬ì¡° ì°¨ì´)

---

## âœ… ìµœì¢… ê²€ì¦ ê²°ê³¼

### ëª¨ë“  íŒŒì¼ ì„¤ì •ì´ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë¨!

1. âœ… **vite.config.ts**: base path ì˜¬ë°”ë¥´ê²Œ ì„¤ì •
2. âœ… **index.html**: advanced ë²„ì „ ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •
3. âœ… **package.json**: build:advanced ìŠ¤í¬ë¦½íŠ¸ ì¡´ì¬
4. âœ… **deploy.yml**: front_7th_chapter3-1ê³¼ ë™ì¼í•œ íŒ¨í„´
5. âœ… **ë¹Œë“œ ê²°ê³¼**: ëª¨ë“  íŒŒì¼ì´ ì˜¬ë°”ë¥´ê²Œ ìƒì„±ë¨

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

íŒŒì¼ ì„¤ì •ì€ ëª¨ë‘ ì˜¬ë°”ë¥´ê²Œ ë˜ì–´ ìˆìŠµë‹ˆë‹¤! 

ì´ì œ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

1. **GitHub Settings â†’ Pages**
   - Sourceê°€ "GitHub Actions"ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

2. **GitHub Actions ì›Œí¬í”Œë¡œìš°**
   - ì›Œí¬í”Œë¡œìš°ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ í™•ì¸

3. **gh-pages ë¸Œëœì¹˜**
   - ë¸Œëœì¹˜ê°€ ìƒì„±ë˜ì—ˆê³  íŒŒì¼ì´ ì˜¬ë°”ë¥´ê²Œ ë°°í¬ë˜ì—ˆëŠ”ì§€ í™•ì¸

íŒŒì¼ ì„¤ì • ìì²´ì—ëŠ” ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤! ğŸ‰

