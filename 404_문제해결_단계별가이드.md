# 🔴 404 에러 해결 - 단계별 진단 가이드

## 🎯 현재 상황
`https://jumoooo.github.io/front_7th_chapter3-2/` 접속 시 404 에러 발생

---

## 📋 단계별 진단 및 해결

### ✅ 1단계: GitHub 저장소 Settings → Pages 확인 (가장 중요!)

#### 확인 방법:
1. **GitHub 저장소로 이동**
   - URL: `https://github.com/jumoooo/front_7th_chapter3-2`

2. **Settings → Pages로 이동**
   - 저장소 상단 메뉴: `Settings` 클릭
   - 왼쪽 사이드바: `Pages` 클릭

3. **현재 설정 확인** ⚠️
   - **Source** 필드를 확인하세요
   - 현재 무엇으로 설정되어 있나요?

#### 올바른 설정:
```
Source: GitHub Actions ✅
```
> ❌ "Deploy from a branch" 또는 "None"으로 되어 있다면 문제입니다!

#### 설정 변경 방법:
1. Source 드롭다운 클릭
2. **"GitHub Actions"** 선택
3. **Save** 버튼 클릭
4. 저장 후 페이지 새로고침

---

### ✅ 2단계: GitHub Actions 워크플로우 확인

#### 확인 방법:
1. **Actions 탭으로 이동**
   - URL: `https://github.com/jumoooo/front_7th_chapter3-2/actions`

2. **워크플로우 목록 확인**
   - 왼쪽 사이드바에서 "Deploy to GitHub Pages" 확인
   - 워크플로우가 실행되었는지 확인

3. **실행 상태 확인**
   - ✅ **초록색 체크마크**: 성공! (다음 단계로)
   - 🟡 **노란색 원**: 진행 중 (대기)
   - ❌ **빨간색 X**: 실패 (로그 확인 필요)

#### 워크플로우가 없다면:
```bash
# 로컬에서 빈 커밋으로 트리거
git commit --allow-empty -m "trigger deployment"
git push
```

#### 워크플로우가 실패했다면:
1. 실패한 워크플로우 클릭
2. 로그 확인
3. 에러 메시지 확인
4. 대부분의 경우:
   - `pnpm-lock.yaml` 문제
   - 해결: 로컬에서 `pnpm install` 후 다시 커밋

---

### ✅ 3단계: gh-pages 브랜치 확인

#### 확인 방법:
1. **브랜치 목록 확인**
   - URL: `https://github.com/jumoooo/front_7th_chapter3-2/branches`

2. **gh-pages 브랜치 확인**
   - `gh-pages` 브랜치가 있는지 확인
   - 없다면 → GitHub Actions가 아직 실행되지 않았거나 실패한 것입니다

3. **브랜치 내용 확인** (있는 경우)
   - URL: `https://github.com/jumoooo/front_7th_chapter3-2/tree/gh-pages`
   - 다음 파일들이 있어야 합니다:
     - ✅ `index.html`
     - ✅ `assets/` 폴더
     - ✅ 기타 빌드된 파일들

#### 파일이 없다면:
- GitHub Actions 워크플로우가 실패했거나
- 아직 실행되지 않았습니다

---

### ✅ 4단계: 로컬 빌드 테스트

#### 빌드 확인:
```bash
# 로컬에서 빌드 테스트
pnpm build:advanced

# 빌드 결과 확인
ls -la dist/
```

#### 확인해야 할 것:
- ✅ `dist/index.html` 파일이 있어야 함
- ✅ `dist/assets/` 폴더가 있어야 함
- ✅ JavaScript 파일이 있어야 함

---

### ✅ 5단계: 코드 변경사항 확인

#### 변경된 파일 확인:
```bash
git status
```

#### 확인해야 할 파일:
- ✅ `index.html` (새로 생성됨)
- ✅ `vite.config.ts` (수정됨)
- ✅ `.github/workflows/deploy.yml` (확인)

#### 커밋 & Push:
```bash
# 모든 변경사항 추가
git add .

# 커밋
git commit -m "fix: GitHub Pages 배포 설정"

# Push
git push
```

---

## 🔍 가장 흔한 원인과 해결책

### 원인 1: GitHub Pages Source 설정이 잘못됨 ⚠️ 가장 흔함!

**증상**: 404 에러, README.md가 나오거나, 파일을 찾을 수 없음

**해결**:
1. GitHub 저장소 → Settings → Pages
2. Source를 **"GitHub Actions"**로 변경
3. Save 클릭

---

### 원인 2: GitHub Actions 워크플로우가 실행되지 않음

**증상**: Actions 탭에 워크플로우가 없거나 실행되지 않음

**해결**:
1. 코드 변경사항을 push
2. 또는 빈 커밋으로 트리거:
   ```bash
   git commit --allow-empty -m "trigger deployment"
   git push
   ```

---

### 원인 3: GitHub Actions 워크플로우 실패

**증상**: Actions 탭에서 빨간색 X 표시

**해결**:
1. 실패한 워크플로우 클릭
2. 에러 로그 확인
3. 대부분 `pnpm-lock.yaml` 문제:
   ```bash
   pnpm install
   git add pnpm-lock.yaml
   git commit -m "fix: update pnpm-lock.yaml"
   git push
   ```

---

### 원인 4: gh-pages 브랜치에 파일이 없음

**증상**: gh-pages 브랜치는 있지만 index.html이 없음

**해결**:
- GitHub Actions 워크플로우를 다시 실행해야 합니다
- 빈 커밋으로 트리거:
  ```bash
  git commit --allow-empty -m "retry deployment"
  git push
  ```

---

### 원인 5: 브라우저 캐시 문제

**증상**: 설정은 올바른데 여전히 404

**해결**:
- 브라우저 캐시 지우기:
  - Windows: `Ctrl + Shift + R` 또는 `Ctrl + F5`
  - Mac: `Cmd + Shift + R`
- 또는 시크릿 모드로 접속
- 다른 브라우저로 시도

---

## ✅ 최종 체크리스트

현재 상태를 확인하고 체크하세요:

- [ ] **Settings → Pages**: Source가 "GitHub Actions"로 설정됨
- [ ] **GitHub Actions**: 워크플로우가 성공적으로 실행됨 (✅ 초록색 체크마크)
- [ ] **gh-pages 브랜치**: 존재하고 `index.html` 파일이 있음
- [ ] **로컬 빌드**: `pnpm build:advanced` 성공
- [ ] **코드 변경사항**: 커밋 & push 완료
- [ ] **브라우저 캐시**: 지웠거나 시크릿 모드 사용

---

## 🚀 빠른 해결 방법 (가장 확실한 순서)

### 방법 1: GitHub Settings 확인 및 수정

1. `https://github.com/jumoooo/front_7th_chapter3-2` 접속
2. Settings → Pages
3. Source를 **"GitHub Actions"**로 변경
4. Save 클릭

### 방법 2: 워크플로우 재실행

```bash
# 로컬에서
git commit --allow-empty -m "retry GitHub Pages deployment"
git push
```

### 방법 3: 로컬 빌드 확인 후 재배포

```bash
# 빌드 확인
pnpm build:advanced

# 변경사항 커밋
git add .
git commit -m "fix: ensure proper build output"
git push
```

---

## 📞 추가 확인 사항

1. **저장소가 Public인가요?**
   - Private 저장소는 GitHub Pro가 필요할 수 있습니다

2. **저장소 이름이 정확한가요?**
   - `front_7th_chapter3-2` (정확히 이 이름이어야 함)
   - 다르다면 `vite.config.ts`의 base path도 함께 수정 필요

3. **GitHub Actions가 활성화되어 있나요?**
   - Settings → Actions → General
   - "Allow all actions and reusable workflows" 선택

---

## 💡 도움이 필요한 경우

위의 모든 단계를 시도했는데도 문제가 해결되지 않으면:

1. GitHub Actions 로그의 전체 에러 메시지를 확인
2. gh-pages 브랜치의 실제 파일 구조 확인
3. 브라우저 개발자 도구(F12) → Network 탭에서 실패한 요청 확인

---

**중요**: 가장 흔한 원인은 **GitHub Settings → Pages에서 Source가 "GitHub Actions"로 설정되지 않은 것**입니다!

