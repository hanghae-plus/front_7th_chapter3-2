# ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë°ê³¼ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°

## ğŸ“š ê°œìš”

Reactì™€ í˜„ëŒ€ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì—ì„œ ìì£¼ ì–¸ê¸‰ë˜ëŠ” **ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë°**ê³¼ **í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°**ì˜ ê°œë…ì„ ì´í•´í•©ë‹ˆë‹¤.

---

## ğŸ­ ëª…ë ¹í˜• vs ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë°

### ëª…ë ¹í˜• í”„ë¡œê·¸ë˜ë° (Imperative)

**"ì–´ë–»ê²Œ(How)"** í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ë‹¨ê³„ë³„ë¡œ ëª…ì‹œí•©ë‹ˆë‹¤.

```javascript
// ëª…ë ¹í˜•: ë°°ì—´ì—ì„œ ì§ìˆ˜ë§Œ ê³¨ë¼ 2ë°°ë¡œ ë§Œë“¤ê¸°
const numbers = [1, 2, 3, 4, 5, 6];
const result = [];

for (let i = 0; i < numbers.length; i++) {
  if (numbers[i] % 2 === 0) {
    result.push(numbers[i] * 2);
  }
}
// result: [4, 8, 12]
```

```javascript
// ëª…ë ¹í˜•: DOM ì§ì ‘ ì¡°ì‘
const button = document.getElementById('btn');
button.textContent = 'í´ë¦­ë¨';
button.style.backgroundColor = 'blue';
button.disabled = true;
```

### ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë° (Declarative)

**"ë¬´ì—‡(What)"**ì„ ì›í•˜ëŠ”ì§€ë§Œ ëª…ì‹œí•©ë‹ˆë‹¤. ì–´ë–»ê²Œ í•˜ëŠ”ì§€ëŠ” ì¶”ìƒí™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```javascript
// ì„ ì–¸í˜•: ë°°ì—´ì—ì„œ ì§ìˆ˜ë§Œ ê³¨ë¼ 2ë°°ë¡œ ë§Œë“¤ê¸°
const numbers = [1, 2, 3, 4, 5, 6];
const result = numbers
  .filter(n => n % 2 === 0)
  .map(n => n * 2);
// result: [4, 8, 12]
```

```jsx
// ì„ ì–¸í˜•: Reactì—ì„œ UI ì„ ì–¸
function Button({ clicked }) {
  return (
    <button
      style={{ backgroundColor: clicked ? 'blue' : 'gray' }}
      disabled={clicked}
    >
      {clicked ? 'í´ë¦­ë¨' : 'í´ë¦­í•˜ì„¸ìš”'}
    </button>
  );
}
```

### ë¹„êµ ìš”ì•½

| íŠ¹ì„± | ëª…ë ¹í˜• | ì„ ì–¸í˜• |
|------|--------|--------|
| **ì´ˆì ** | ì–´ë–»ê²Œ(How) | ë¬´ì—‡ì„(What) |
| **ì œì–´ íë¦„** | ê°œë°œìê°€ ì§ì ‘ ì œì–´ | ì¶”ìƒí™”/ìœ„ì„ |
| **ìƒíƒœ ë³€ê²½** | ì§ì ‘ ë³€ê²½ | ìƒˆë¡œìš´ ìƒíƒœ ë°˜í™˜ |
| **ê°€ë…ì„±** | ë‚®ìŒ (ë‹¨ê³„ë³„ ì¶”ì  í•„ìš”) | ë†’ìŒ (ì˜ë„ê°€ ëª…í™•) |
| **ì˜ˆì‹œ** | forë¬¸, whileë¬¸, DOM ì¡°ì‘ | map, filter, React JSX |

---

## ğŸ”„ Reactì—ì„œì˜ ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë°

### UIë¥¼ ì„ ì–¸ì ìœ¼ë¡œ í‘œí˜„

```jsx
// âŒ ëª…ë ¹í˜•: DOMì„ ì§ì ‘ ì¡°ì‘
function updateCartCount(count) {
  const badge = document.querySelector('.cart-badge');
  if (count > 0) {
    badge.style.display = 'block';
    badge.textContent = count;
  } else {
    badge.style.display = 'none';
  }
}

// âœ… ì„ ì–¸í˜•: ìƒíƒœì— ë”°ë¥¸ UI ì„ ì–¸
function CartBadge({ count }) {
  if (count === 0) return null;
  
  return (
    <span className="cart-badge">
      {count}
    </span>
  );
}
```

### ìƒíƒœ ë³€í™”ë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì²˜ë¦¬

```jsx
// âŒ ëª…ë ¹í˜•: ìƒíƒœë¥¼ ì§ì ‘ ë³€ê²½
function addItem(item) {
  cart.push(item);  // ì›ë³¸ ë°°ì—´ ë³€ê²½
  updateUI();       // UI ìˆ˜ë™ ì—…ë°ì´íŠ¸
}

// âœ… ì„ ì–¸í˜•: ìƒˆë¡œìš´ ìƒíƒœ ì„ ì–¸
function addItem(item) {
  setCart(prevCart => [...prevCart, item]);
  // Reactê°€ ì•Œì•„ì„œ UI ì—…ë°ì´íŠ¸
}
```

### ì¡°ê±´ë¶€ ë Œë”ë§

```jsx
// âœ… ì„ ì–¸í˜•: ì¡°ê±´ì— ë”°ë¥¸ UI ì„ ì–¸
function ProductCard({ product, isInCart }) {
  return (
    <div className="product-card">
      <h3>{product.name}</h3>
      <p>{product.price.toLocaleString()}ì›</p>
      
      {/* ì¡°ê±´ë¶€ ë Œë”ë§ - ì„ ì–¸ì  */}
      {product.stock === 0 && <span className="sold-out">í’ˆì ˆ</span>}
      {product.isRecommended && <span className="badge">BEST</span>}
      
      <button disabled={isInCart || product.stock === 0}>
        {isInCart ? 'ë‹´ê¹€' : product.stock === 0 ? 'í’ˆì ˆ' : 'ë‹´ê¸°'}
      </button>
    </div>
  );
}
```

---

## ğŸ§® í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° (Functional Programming)

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì€ **ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë°ì˜ í•œ ì¢…ë¥˜**ì…ë‹ˆë‹¤.

### í•µì‹¬ ì›ì¹™

#### 1. ìˆœìˆ˜ í•¨ìˆ˜ (Pure Functions)

```javascript
// âœ… ìˆœìˆ˜ í•¨ìˆ˜: ê°™ì€ ì…ë ¥ â†’ ê°™ì€ ì¶œë ¥, ë¶€ì‘ìš© ì—†ìŒ
function calculateTotal(items) {
  return items.reduce((sum, item) => sum + item.price * item.quantity, 0);
}

// âŒ ìˆœìˆ˜í•˜ì§€ ì•ŠìŒ: ì™¸ë¶€ ìƒíƒœ ì˜ì¡´
let taxRate = 0.1;
function calculateTotalWithTax(items) {
  const total = items.reduce((sum, item) => sum + item.price, 0);
  return total * (1 + taxRate);  // ì™¸ë¶€ ë³€ìˆ˜ ì°¸ì¡°
}

// âŒ ìˆœìˆ˜í•˜ì§€ ì•ŠìŒ: ë¶€ì‘ìš© ë°œìƒ
function calculateAndLog(items) {
  const total = items.reduce((sum, item) => sum + item.price, 0);
  console.log('Total:', total);  // ë¶€ì‘ìš©!
  return total;
}
```

#### 2. ë¶ˆë³€ì„± (Immutability)

```javascript
// âŒ ë³€ê²½ (Mutation)
function addItem(cart, item) {
  cart.push(item);  // ì›ë³¸ ë°°ì—´ ë³€ê²½
  return cart;
}

// âœ… ë¶ˆë³€ (Immutable)
function addItem(cart, item) {
  return [...cart, item];  // ìƒˆ ë°°ì—´ ë°˜í™˜
}

// âŒ ê°ì²´ ë³€ê²½
function updateStock(product, newStock) {
  product.stock = newStock;  // ì›ë³¸ ê°ì²´ ë³€ê²½
  return product;
}

// âœ… ê°ì²´ ë¶ˆë³€
function updateStock(product, newStock) {
  return { ...product, stock: newStock };  // ìƒˆ ê°ì²´ ë°˜í™˜
}
```

#### 3. ì¼ê¸‰ í•¨ìˆ˜ (First-Class Functions)

í•¨ìˆ˜ë¥¼ ê°’ì²˜ëŸ¼ ë‹¤ë£° ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
// í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— í• ë‹¹
const double = (x) => x * 2;

// í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ì „ë‹¬
const numbers = [1, 2, 3];
const doubled = numbers.map(double);

// í•¨ìˆ˜ë¥¼ ë°˜í™˜
function createMultiplier(factor) {
  return (x) => x * factor;
}
const triple = createMultiplier(3);
triple(5);  // 15
```

#### 4. ê³ ì°¨ í•¨ìˆ˜ (Higher-Order Functions)

í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ê±°ë‚˜ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

```javascript
// ë°°ì—´ ë©”ì„œë“œë“¤ì´ ê³ ì°¨ í•¨ìˆ˜
const products = [
  { name: 'ìƒí’ˆ1', price: 10000, stock: 5 },
  { name: 'ìƒí’ˆ2', price: 20000, stock: 0 },
  { name: 'ìƒí’ˆ3', price: 15000, stock: 10 },
];

// filter: ì¡°ê±´ì— ë§ëŠ” ìš”ì†Œë§Œ
const inStock = products.filter(p => p.stock > 0);

// map: ê° ìš”ì†Œë¥¼ ë³€í™˜
const names = products.map(p => p.name);

// reduce: í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ ì¶•ì•½
const totalValue = products.reduce(
  (sum, p) => sum + p.price * p.stock, 
  0
);

// ì²´ì´ë‹: ì—¬ëŸ¬ ì—°ì‚°ì„ ì—°ê²°
const expensiveInStock = products
  .filter(p => p.stock > 0)
  .filter(p => p.price >= 15000)
  .map(p => p.name);
// ['ìƒí’ˆ3']
```

#### 5. í•¨ìˆ˜ í•©ì„± (Function Composition)

ì‘ì€ í•¨ìˆ˜ë“¤ì„ ì¡°í•©í•´ ë³µì¡í•œ ë™ì‘ì„ ë§Œë“­ë‹ˆë‹¤.

```javascript
// ì‘ì€ ìˆœìˆ˜ í•¨ìˆ˜ë“¤
const getPrice = (item) => item.price;
const getQuantity = (item) => item.quantity;
const multiply = (a, b) => a * b;
const sum = (numbers) => numbers.reduce((a, b) => a + b, 0);

// í•¨ìˆ˜ í•©ì„±ìœ¼ë¡œ ì´ì•¡ ê³„ì‚°
const calculateItemTotal = (item) => 
  multiply(getPrice(item), getQuantity(item));

const calculateCartTotal = (cart) => 
  sum(cart.map(calculateItemTotal));

// ì‚¬ìš©
const cart = [
  { price: 10000, quantity: 2 },
  { price: 20000, quantity: 1 },
];
calculateCartTotal(cart);  // 40000
```

---

## ğŸ“¦ ì´ ê³¼ì œì—ì„œì˜ ì ìš©

### ì„ ì–¸í˜•ìœ¼ë¡œ UI ì‘ì„±

```jsx
// âœ… ì„ ì–¸í˜•: ìƒíƒœì— ë”°ë¥¸ UI ì„ ì–¸
function CartSection({ cart, totals }) {
  return (
    <section className="cart">
      <h2>ì¥ë°”êµ¬ë‹ˆ ({cart.length}ê°œ)</h2>
      
      {cart.length === 0 ? (
        <EmptyCart />
      ) : (
        <>
          <CartItemList items={cart} />
          <CartSummary totals={totals} />
        </>
      )}
    </section>
  );
}
```

### í•¨ìˆ˜í˜•ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‘ì„±

```typescript
// models/cart.ts - ìˆœìˆ˜ í•¨ìˆ˜ë“¤

// ë¶ˆë³€ì„± ìœ ì§€: ìƒˆ ë°°ì—´ ë°˜í™˜
export const addItemToCart = (cart: CartItem[], product: Product): CartItem[] => {
  const existing = cart.find(item => item.product.id === product.id);
  
  if (existing) {
    return cart.map(item =>
      item.product.id === product.id
        ? { ...item, quantity: item.quantity + 1 }
        : item
    );
  }
  
  return [...cart, { product, quantity: 1 }];
};

// ê³ ì°¨ í•¨ìˆ˜ í™œìš©
export const calculateCartTotal = (cart: CartItem[]): number => {
  return cart
    .map(item => item.product.price * item.quantity)
    .reduce((sum, price) => sum + price, 0);
};

// í•¨ìˆ˜ í•©ì„±
export const getDiscountedTotal = (cart: CartItem[], discountRate: number): number => {
  const total = calculateCartTotal(cart);
  return applyDiscount(total, discountRate);
};

const applyDiscount = (amount: number, rate: number): number => {
  return Math.round(amount * (1 - rate));
};
```

### Hookì—ì„œ í•¨ìˆ˜í˜• ì›ì¹™ ì ìš©

```typescript
// hooks/useCart.ts
export function useCart() {
  const [cart, setCart] = useState<CartItem[]>([]);
  
  // ë¶ˆë³€ì„± ìœ ì§€: ìˆœìˆ˜ í•¨ìˆ˜ í™œìš©
  const addToCart = useCallback((product: Product) => {
    setCart(prevCart => addItemToCart(prevCart, product));
  }, []);
  
  // íŒŒìƒ ìƒíƒœ: ìˆœìˆ˜ í•¨ìˆ˜ë¡œ ê³„ì‚°
  const totals = useMemo(
    () => calculateCartTotal(cart),
    [cart]
  );
  
  return { cart, addToCart, totals };
}
```

---

## ğŸ¯ í•µì‹¬ ì •ë¦¬

### ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë°

| ì›ì¹™ | ì„¤ëª… | React ì˜ˆì‹œ |
|------|------|-----------|
| What, not How | ë¬´ì—‡ì„ ì›í•˜ëŠ”ì§€ ì„ ì–¸ | JSXë¡œ UI ì„ ì–¸ |
| ì¶”ìƒí™” | êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ ìˆ¨ê¹€ | `useState`, `useEffect` |
| ë°ì´í„° íë¦„ | ìƒíƒœ â†’ UI ìë™ ë°˜ì˜ | ìƒíƒœ ë³€ê²½ ì‹œ ë¦¬ë Œë”ë§ |

### í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°

| ì›ì¹™ | ì„¤ëª… | ì½”ë“œ ì˜ˆì‹œ |
|------|------|----------|
| ìˆœìˆ˜ í•¨ìˆ˜ | ë¶€ì‘ìš© ì—†ìŒ, ì˜ˆì¸¡ ê°€ëŠ¥ | `calculateTotal(cart)` |
| ë¶ˆë³€ì„± | ì›ë³¸ ë³€ê²½ ì•ˆ í•¨ | `[...cart, newItem]` |
| ê³ ì°¨ í•¨ìˆ˜ | í•¨ìˆ˜ë¥¼ ê°’ìœ¼ë¡œ ë‹¤ë£¸ | `cart.map(fn).filter(fn)` |
| í•¨ìˆ˜ í•©ì„± | ì‘ì€ í•¨ìˆ˜ ì¡°í•© | `compose(f, g, h)` |

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] UIê°€ ìƒíƒœì— ë”°ë¼ ì„ ì–¸ì ìœ¼ë¡œ í‘œí˜„ë˜ëŠ”ê°€?
- [ ] DOMì„ ì§ì ‘ ì¡°ì‘í•˜ëŠ” ì½”ë“œê°€ ì—†ëŠ”ê°€?
- [ ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ìˆœìˆ˜ í•¨ìˆ˜ë¡œ ì‘ì„±ë˜ì—ˆëŠ”ê°€?
- [ ] ë°°ì—´/ê°ì²´ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ìƒˆë¡œ ìƒì„±í•˜ëŠ”ê°€?
- [ ] `map`, `filter`, `reduce`ë¥¼ ì ì ˆíˆ í™œìš©í•˜ëŠ”ê°€?
- [ ] í•¨ìˆ˜ë“¤ì´ ì‘ê³  ë‹¨ì¼ ì±…ì„ì„ ê°€ì§€ëŠ”ê°€?

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [React ê³µì‹ ë¬¸ì„œ - Thinking in React](https://react.dev/learn/thinking-in-react)
- [ì™ì™ ë“¤ì–´ì˜¤ëŠ” í•¨ìˆ˜í˜• ì½”ë”©](http://www.yes24.com/Product/Goods/108748841) - Eric Normand
- [JavaScript Info - í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°](https://ko.javascript.info/)

